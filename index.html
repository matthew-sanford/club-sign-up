<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<title>Club Sign-Up</title>
<style>
  body{font-family:Arial,Helvetica,sans-serif;display:flex;align-items:center;justify-content:center;height:100vh;background:#f4f4f4}
  form{background:#fff;padding:24px;border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,.08);width:320px}
  input,button{width:100%;padding:10px;margin-top:8px;border-radius:6px;border:1px solid #ddd}
  label{display:block;margin-top:8px;font-size:14px}
  button{background:#0b66ff;color:#fff;border:none;cursor:pointer}
  p#response{margin-top:8px;font-size:14px}
</style>
</head>
<body>
  <form id="signupForm">
    <h3>Club Sign-Up</h3>
    <input id="name" placeholder="Full name" required />
    <input id="studentID" placeholder="Student ID" required />
    <label><input type="checkbox" id="consent" required /> I agree to receive club-related emails</label>
    <button type="submit">Submit</button>
    <p id="response"></p>
  </form>

<script>
const scriptURL = "https://script.google.com/macros/s/AKfycbzGlV8Q0VUbaw4dVgSnPEpCSI7WxAKtzze7qX_KBxLoLWC-peq4EGP5X1LEXTfKJSlL/exec"; // your Apps Script web app URL

document.getElementById("signupForm").addEventListener("submit", async (e) => {
  e.preventDefault();
  const name = document.getElementById("name").value.trim();
  const studentID = document.getElementById("studentID").value.trim();
  const consent = document.getElementById("consent").checked;

  const payload = { name, studentID, consent };

  try {
    const resp = await fetch(scriptURL, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(payload),
    });

    if (!resp.ok) throw new Error("Network response was not ok");
    const data = await resp.json();
    if (data.status === "success") {
      document.getElementById("response").innerText = "✔️ Submitted. Thanks!";
      e.target.reset();
    } else {
      document.getElementById("response").innerText = "⚠️ Error: " + (data.message || "unknown");
    }
  } catch (err) {
    console.error(err);
    document.getElementById("response").innerText = "❌ Submit failed — check console for details.";
  }
});
</script>
</body>
</html>
